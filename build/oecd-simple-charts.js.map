{"version":3,"file":"oecd-simple-charts.js","sources":["../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/_root.js","../node_modules/lodash-es/now.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/toNumber.js","../node_modules/lodash-es/debounce.js","../src/modules/OECDChart.js","../src/modules/PearlChart.js","../src/modules/StackedChart.js","../src/modules/BoxPlot.js","../src/modules/RadialBarChart.js","../src/index.js"],"sourcesContent":["/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import { select as d3Select } from 'd3-selection';\nimport _debounce from 'lodash-es/debounce';\nimport eventstop from 'eventstop';\n\nclass OECDChart {\n  constructor() {\n    this.baseDefaultOptions = {};\n\n    this.event = eventstop();\n    this.on = this.event.on;\n    this.once = this.event.once;\n    this.off = this.event.off;\n\n    const handleResize = _debounce(this.onResize.bind(this), 250);\n    window.addEventListener('resize', handleResize);\n  }\n\n  init(options = {}) {\n    this.options = Object.assign({}, this.baseDefaultOptions, this.defaultOptions, options);\n\n    const d3Container = d3Select(this.options.container);\n\n    d3Container\n      .classed('oecd-chart__container', true);\n\n    if (this.options.title || this.options.renderInfoButton) {\n      const titleContainer =\n        d3Container\n          .append('div')\n          .attr('class', 'oecd-chart__title-container');\n\n      if (this.options.title) {\n        titleContainer\n          .append('div')\n          .attr('class', 'oecd-chart__title')\n          .text(this.options.title);\n      }\n\n      if (this.options.renderInfoButton) {\n        titleContainer\n          .append('div')\n          .attr('class', 'oecd-chart__info')\n          .html('<svg class=\"oecd-chart__info-icon\" width=\"25\" height=\"25\" viewBox=\"0 0 40 40\"><path d=\"M18.4 15v-3.4h3.3V15h-3.3zM20 33.4q5.5 0 9.4-4t4-9.3-4-9.3-9.4-4-9.4 4-4 9.4 4 9.5 9.4 4zm0-30q7 0 11.8 5t5 11.7-5 12T20 36.7t-11.8-5-5-11.7 5-11.7 11.8-5zm-1.6 25v-10h3.3v10h-3.3z\"/></svg>')\n          .on('click', () => this.event.emit('infoclick'));\n      }\n    }\n\n    this.render(options);\n  }\n\n  onResize() {\n    const containerWidth = d3Select(this.options.container).node().clientWidth;\n    if (containerWidth !== window.innerWidth) this.render(this.options);\n  }\n\n  // we call this in render of a specific chart to clear the svg\n  // for drawing with new dimensions\n  removeSelections(selectors) {\n    selectors.forEach(sel => d3Select(this.options.container).selectAll(sel).remove());\n  }\n\n  toggleTitle() {\n    const titleEl = document.querySelector(`${this.options.container} .oecd-chart__title-container`);\n    titleEl.classList.toggle('oecd-chart__title-container--hidden');\n  }\n}\n\nexport default OECDChart;\n","import { select as d3Select } from 'd3-selection';\nimport { axisBottom as d3AxisBottom } from 'd3-axis';\nimport { format as d3Format } from 'd3-format';\nimport { scaleLinear as d3ScaleLinear } from 'd3-scale';\nimport { transition as d3Transition } from 'd3-transition';\nimport OECDChart from './OECDChart';\n\n/**\n * A pearl chart component.\n *\n * @example <caption>browser usage:</caption>\n * const PearlChartExample = new OECDCharts.PearlChart({\n *   container: '#PearlChartExample',\n *   extent: [300, 600],\n *   title: 'Pearl Chart',\n *   renderInfoButton: true,\n *   showTicks: true,\n *   showLabels: false,\n *   colorLabels: true,\n *   callback: data => console.log(data),\n *   data: [\n *     {\n *       value: 410,\n *       color: '#900c3f'\n *     },\n *     {\n *       value: 520,\n *       color: '#189aa8'\n *     }\n *   ],\n *   labelFormat: val => `${Math.round(val)} $`\n * });\n * @example <caption>ES6 modules usage:</caption>\n * import { PearlChart } from 'oecd-simple-charts';\n * import 'oecd-simple-charts/build/oecd-simple-charts.css'\n *\n * const pearlChart = new PearlChart({ chartOptions });\n * @constructor\n * @param {object} options - The options object for the pearl chart.\n * @param {string} options.container - The DOM element to use as container\n * @param {string} options.title - The title to display\n * @param {bool}  [options.renderInfoButton = false] - The info-Icon for the tooltip, renders after the title\n * @param {int}  [options.fontSize = 14] - The font-size for the labels in px\n * @param {int}  [options.radius = 10] - The radius for the pearl in px\n * @param {int} [options.ticks = 4] - The number of ticks displayed under the pearl chart, will only be used if tickValues is not set\n * @param {array} options.tickValues - An array of numbers that are displayed as ticks\n * @param {bool} [options.showTicks = true] - Hide or show ticks\n * @param {function} options.callback - A function that is called on circle click\n * @param {function} [options.labelFormat = val => Math.round(val * 10) / 10] - A function for formatting circle labels\n * @param {function} [options.showLabels = false] - Hide or show circle labels\n * @param {function} [options.colorLabels = false] - Fill labels in circle color or black\n * @param {array}  options.data - The data as array. i.e.:\n * ```\n * [\n *   {\n *     value: 410,\n *     color: '#900c3f'\n *   },\n *   {\n *     value: 520,\n *     color: '#189aa8'\n *   }\n * ]\n * ```\n */\nclass PearlChart extends OECDChart {\n  constructor(options = {}) {\n    super();\n\n    this.defaultOptions = {\n      container: null,\n      extent: [0, 100],\n      data: [],\n      height: 55,\n      marginLeft: 35,\n      marginRight: 35,\n      fontSize: 14,\n      radius: 10,\n      labelOffset: 5,\n      ticks: 4,\n      tickValues: null,\n      showLabels: false,\n      colorLabels: false,\n      callback: null,\n      showTicks: true,\n      labelFormat: val => Math.round(val * 10) / 10\n    };\n\n    this.init(options);\n  }\n\n  render() {\n    const {\n      data,\n      height,\n      container,\n      extent,\n      marginLeft,\n      marginRight,\n      labelOffset\n    } = this.options;\n\n    const d3Container = d3Select(container);\n    const outerWidth = d3Container.node().clientWidth;\n    const innerWidth = outerWidth - marginLeft - marginRight;\n    const innerHeight = height + labelOffset;\n\n    this.removeSelections(['.pearlchart__svg']);\n\n    this.scale = d3ScaleLinear()\n      .domain(extent)\n      .range([0, innerWidth]);\n\n    const svg = d3Container\n      .classed('OECDCharts__PearlChart', true)\n      .append('svg')\n      .classed('pearlchart__svg', true)\n      .attr('width', outerWidth)\n      .attr('height', innerHeight);\n\n    this.chartWrapper = svg.append('g')\n      .classed('pearlchart__chart', true)\n      .attr('transform', `translate(${marginLeft - labelOffset}, ${this.options.title || this.options.renderInfoButton ? -10 : 10})`);\n\n    this.getAxis({ chartWrapper: this.chartWrapper, extent, innerWidth, innerHeight, labelOffset });\n\n    this.nodesWrapper = this.chartWrapper\n      .append('g')\n      .classed('pearlchart__nodes', true);\n\n    this.update(data);\n  }\n  /**\n   * @memberof PearlChart\n   * @param {array} data - an array containing objects with the new data\n   * @example\n   * PearlChartExample.update([\n   *   {\n   *     value: 490,\n   *     color: '#900c3f'\n   *   },\n   *   {\n   *     value: 820,\n   *     color: '#189aa8'\n   *   }\n   * ]);\n   */\n  update(_data) {\n    this.options.data = _data;\n    const data = PearlChart.parseData(_data);\n    const transitionFunc = d3Transition().duration(750);\n    const { labelOffset, radius, height } = this.options;\n    const innerHeight = height + labelOffset;\n\n    this.getCircles(data, innerHeight, radius, transitionFunc, labelOffset);\n  }\n\n  getAxis(options = this.defaultOptions) {\n    const { chartWrapper, extent, innerWidth, innerHeight, labelOffset } = options;\n\n    // render background line\n    const axis = chartWrapper.append('g')\n      .classed('pearlchart__x-axis', true);\n\n    axis.append('line')\n      .attr('x1', 0)\n      .attr('x2', innerWidth)\n      .attr('y1', innerHeight / 2)\n      .attr('y2', innerHeight / 2);\n\n    // render axis labels\n    const axisLabel = axis.selectAll('.pearlchart__axis-label')\n      .data(extent);\n\n    axisLabel.exit().remove();\n\n    axisLabel.enter()\n      .append('text')\n      .classed('pearlchart__axis-label', true)\n      .text(d => d)\n      .attr('font-size', this.options.fontSize)\n      .attr('x', (d, i) => this.scale.range()[i])\n      .attr('dx', (d, i) => (i === 0 ? `-${labelOffset}px` : `${labelOffset}px`))\n      .attr('y', innerHeight / 2)\n      .attr('dy', labelOffset)\n      .attr('text-anchor', (d, i) => (i === 0 ? 'end' : 'start'));\n\n\n    const xAxis = d3AxisBottom(this.scale)\n      .tickFormat(d3Format('.0f'))\n      .tickSize(15);\n\n    if (this.options.tickValues) {\n      xAxis.tickValues(this.options.tickValues);\n    } else {\n      xAxis.ticks(this.options.ticks);\n    }\n\n    axis.append('g')\n        .classed('pearlchart__axis-ticks', true)\n        .style('display', this.options.showTicks ? 'block' : 'none')\n        .attr('transform', `translate(0, ${(this.options.radius * 2) + 10})`)\n        .call(xAxis);\n\n    // remove first and last axis label to avoid duplicates with the extent labels\n    if (+axis.select('.tick:last-of-type').text() === this.options.extent[1]) {\n      axis.select('.tick:last-of-type').style('display', 'none');\n    }\n\n    if (+axis.select('.tick').text() === this.options.extent[0]) {\n      axis.select('.tick').style('display', 'none');\n    }\n\n    axis.selectAll('pearlchart__axis-ticks').style('font-size', (this.options.fontSize * 0.8));\n  }\n\n  getCircles(_data, innerHeight, radius, transition, labelOffset) {\n    const circles = this.nodesWrapper.selectAll('.pearlchart__circle-wrapper')\n      .data(_data, d => d.value);\n\n    circles.exit().remove();\n\n    circles\n      .transition(transition)\n      .style('fill', d => d.color);\n\n    const circle = circles.enter()\n      .append('g')\n      .classed('pearlchart__circle-wrapper', true)\n      .classed('clickable', this.options.callback !== null)\n      .on('mouseenter', (d, i, nodes) => {\n        d3Select(nodes[i]).select('.pearlchart__circle-tooltip').style('display', 'block');\n      })\n      .on('mouseleave', (d, i, nodes) => {\n        d3Select(nodes[i]).select('.pearlchart__circle-tooltip').style('display', 'none');\n      })\n      .on('click', () => {\n        if (this.options.callback) {\n          this.options.callback(this.options.data);\n        }\n      });\n\n    circle.append('circle')\n      .classed('pearlchart__circle', true)\n      .attr('cx', d => this.scale(d.value))\n      .attr('cy', innerHeight / 2)\n      .attr('r', radius)\n      .style('fill', d => d.color);\n\n    if (this.options.showLabels) {\n      circle.append('text')\n        .classed('pearlchart__circle-label', true)\n        .attr('font-size', this.options.fontSize)\n        .attr('x', d => this.scale(d.value))\n        .attr('y', (innerHeight / 2))\n        .attr('dy', -(radius * 2) + labelOffset)\n        .text(d => this.options.labelFormat(d.value))\n        .attr('text-anchor', 'middle')\n        .style('fill', d => (!this.options.colorLabels ? '#000' : d.color));\n    } else {\n      circle.append('text')\n        .classed('pearlchart__circle-tooltip', true)\n        .attr('font-size', this.options.fontSize)\n        .attr('x', d => this.scale(d.value))\n        .attr('y', (innerHeight / 2))\n        .attr('dy', -(radius * 2) + labelOffset)\n        .text(d => this.options.labelFormat(d.value))\n        .attr('text-anchor', 'middle')\n        .style('fill', d => (!this.options.colorLabels ? '#000' : d.color))\n        .style('display', 'none');\n    }\n  }\n\n  static parseData(_data) {\n    return _data.map((d) => {\n      d.color = d.color || '#777777';\n      return d;\n    });\n  }\n}\n\nexport default PearlChart;\n","import { select as d3Select } from 'd3-selection';\nimport { scaleLinear as d3ScaleLinear } from 'd3-scale';\nimport { sum as d3Sum } from 'd3-array';\n\nimport OECDChart from './OECDChart';\n\n/**\n * A stacked chart component\n *\n * @example <caption>browser usage:</caption>\n * const StackedChartExample = new OECDCharts.StackedChart({\n *   container: '#StackedChartExample',\n *   title: 'Stacked Bar Chart',\n *   renderInfoButton: true,\n *   data: [\n *     {\n *       values: [1,2,3,4,5],\n *       barLabels: ['0%', '100%'],\n *       colors: ['#fddd5d', '#900c3f'],\n *       stackLabels: ['I', 'II', 'III', 'IV', 'V']\n *     },\n *     {\n *       values: [2,4,6,8,20],\n *       barLabels: ['0%', '100%'],\n *       colors: ['#fddd5d', '#189aa8']\n *     }\n *   ]\n * });\n * @example <caption>ES6 modules usage:</caption>\n * import { StackedChart } from 'oecd-simple-charts';\n * import 'oecd-simple-charts/build/oecd-simple-charts.css'\n *\n * const stackedChart = new StackedChart({ chartOptions });\n * @constructor\n * @param {object}  options - The options object for the stacked chart\n * @param {string}  options.container - The DOM element to use as container\n * @param {string}  options.title - The title to display\n * @param {bool}  [options.renderInfoButton = false] - The info-Icon for the tooltip, renders after the title\n * @param {int}  [options.fontSize = 14] - The font-size for the labels in px\n * @param {int}  [options.marginTop = 15] - The space between the bars in px\n * @param {int}  [options.barHeight = 30] -The height of a bar in px\n * @param {array}   options.data - The data as array\n * @param {array}   options.data.values - The values to display as stacked bar chart\n * @param {array}   options.data.barLabels - The labels to display left and right to the chart\n * @param {array}   options.data.colors - Colors for the min and max value of the stacked bar chart\n * @param {array}   options.data.stackLabels - Labels for the stacked elements\n */\nclass StackedChart extends OECDChart {\n  constructor(options = {}) {\n    super();\n\n    this.defaultOptions = {\n      container: null,\n      extent: [0, 100],\n      data: [],\n      fontSize: 14,\n      marginTop: 15,\n      barHeight: 30,\n      marginLeft: 30,\n      marginRight: 45,\n      labelOffset: 5\n    };\n\n    this.init(options);\n  }\n\n  render() {\n    const {\n      data,\n      container,\n      extent,\n      marginTop,\n      barHeight,\n      fontSize,\n      marginLeft,\n      marginRight\n    } = this.options;\n\n\n    const d3Container = d3Select(container);\n    const dimensions = d3Container.node().getBoundingClientRect();\n    const outerWidth = dimensions.width;\n    const innerWidth = outerWidth - marginLeft - marginRight;\n    const innerHeight = ((barHeight + marginTop) * data.length);\n\n    this.removeSelections(['.stacked-chart__svg']);\n\n    this.x = d3ScaleLinear().range([0, innerWidth]).domain(extent);\n    this.colorScale = d3ScaleLinear();\n\n    const svg = d3Container\n      .classed('OECDCharts__StackedChart', true)\n      .append('svg')\n      .classed('stacked-chart__svg', true)\n      .attr('width', outerWidth)\n      .attr('height', innerHeight);\n\n    this.chartWrapper = svg.append('g')\n      .attr('class', 'stacked-chart')\n      .attr('transform', `translate(${marginLeft}, 0)`);\n\n    this.update(data);\n  }\n  /**\n   * @memberof StackedChart\n   * @param {array} data - an array containing objects with the new data\n   * @example\n   * StackedChartExample.update([\n   *   {\n   *     values: [1,10,3,4,5],\n   *     barLabels: ['0%', '100%'],\n   *     colors: ['#fddd5d', '#900c3f'],\n   *     stackLabels: ['1', '2', '3', '4', '5']\n   *   },\n   *   {\n   *     values: [2,4,10,15,20],\n   *     barLabels: ['0%', '100%'],\n   *     colors: ['#fddd5d', '#189aa8']\n   *   }\n   * ]);\n   */\n  update(_data) {\n    this.options.data = _data;\n    const data = StackedChart.parseData(_data);\n\n    StackedChart.validateData(_data);\n\n    const chart = this.getChart(data);\n\n    this.getBars(chart);\n    this.getStackedLabels(chart);\n    this.getBarLabels(chart);\n  }\n\n  getChart(_data) {\n    const chart = this.chartWrapper.selectAll('.stacked-chart__bar')\n      .data(_data, d => JSON.stringify(d));\n\n    chart.exit().remove();\n\n    return chart.enter()\n      .append('g')\n      .classed('stacked-chart__bar', true)\n      .attr('transform', (d, i) => `translate(0, ${i * (this.options.barHeight + this.options.marginTop)})`);\n  }\n\n  getBars(chart) {\n    chart.selectAll('.stacked-chart__rect')\n      .data(data => data.values.map((value, i) => ({\n        value,\n        offset: data.offset[i],\n        colors: data.colors\n      })))\n      .enter()\n      .append('rect')\n      .classed('stacked-chart__rect', true)\n      .attr('width', d => this.x(d.value))\n      .attr('x', d => this.x(d.offset))\n      .attr('height', this.options.barHeight)\n      .attr('fill', (d, i, nodes) => this.colorScale.domain([0, nodes.length]).range(d.colors)(i));\n  }\n\n  getStackedLabels(chart) {\n    chart.selectAll('.stacked-chart__stackedlabel')\n      .data(data => data.stackLabels.map((stackLabel, i) => ({\n        stackLabel,\n        offset: data.offset[i],\n        value: data.values[i]\n      })))\n      .enter()\n      .append('text')\n      .classed('stacked-chart__stackedlabel', true)\n      .attr('y', this.options.barHeight / 2)\n      .attr('x', d => this.x(d.offset + (d.value / 2)))\n      .attr('text-anchor', 'middle')\n      .attr('dy', '.35em')\n      .attr('fill', '#fff')\n      .text(d => d.stackLabel)\n      .attr('font-size', this.options.fontSize);\n  }\n\n  getBarLabels(chart) {\n    const { labelOffset, barHeight, fontSize } = this.options;\n\n    chart.selectAll('.stacked-chart__barlabel')\n      .data(d => d.barLabels)\n      .enter()\n      .append('text')\n      .classed('stacked-chart__barlabel', true)\n      .attr('y', barHeight / 2)\n      .attr('x', (d, i, nodes) => (i === 0 ? 0 : nodes[i].parentNode.getBoundingClientRect().width))\n      .attr('dy', '.35em')\n      .attr('dx', (d, i) => (i === 0 ? `-${labelOffset}px` : `${labelOffset}px`))\n      .attr('text-anchor', (d, i) => (i === 0 ? 'end' : 'start'))\n      .text(d => d)\n      .attr('font-size', fontSize);\n  }\n\n  static parseData(_data) {\n    return _data.map((d) => {\n      const factor = 100 / d.values.reduce((a, b) => a + b);\n      d.values = d.values.map(value => value * factor);\n      d.offset = d.values.map((value, i) => d3Sum(d.values.slice(0, i)));\n      d.stackLabels = d.stackLabels || [];\n      return d;\n    });\n  }\n\n  static validateData(_data) {\n    const invalidData = _data.filter(\n      d => (d.values.length !== d.stackLabels.length && d.stackLabels.length)\n    );\n\n    if (invalidData.length) {\n      throw Error('invalid data: amount of stackLabels is not matching amount of values.');\n    }\n  }\n}\n\nexport default StackedChart;\n","import { select as d3Select } from 'd3-selection';\nimport { scaleLinear as d3ScaleLinear } from 'd3-scale';\nimport { axisBottom as d3AxisBottom } from 'd3-axis';\n\nimport OECDChart from './OECDChart';\n\n/**\n * A BoxPlot component\n * @example <caption>Browser usage:</caption>\n * const BoxPlotExample = new OECDCharts.BoxPlot({\n *   container: '#BoxPlotExample',\n *   title: 'Box Plot',\n *   extent: [350, 650],\n *   step: 50,\n *   renderInfoButton: true,\n *   data: [\n *    {\n *      values: [480, 500, 530],\n *      colors: ['#fddd5d', '#C7754E', '#900c3f'],\n *      labelLeft: {\n *        text: 'male low'\n *      },\n *      labelRight: {\n *        text: 'male top'\n *      }\n *    },\n *    {\n *      values: [400, 520, 550],\n *      colors: ['#aad356', '#61B77F', '#189aa8']\n *    }\n *   ]\n * });\n * @example <caption>ES6 modules usage:</caption>\n * import { BoxPlot } from 'oecd-simple-charts';\n * import 'oecd-simple-charts/build/oecd-simple-charts.css'\n *\n * const boxPlot = new BoxPlot({ chartOptions });\n *\n * @constructor\n * @param {object}  options - The options object for the Box Plot\n * @param {string}  options.container - The DOM element to use as container\n * @param {string}  options.title - The title to display\n * @param {array}   options.extent - The min and max value for generating the x-axis\n * @param {number}  options.step - Indicates the stepsize for the x-axis ticks\n * @param {string}  options.legend - HTML code for the legend\n * @param {bool}  [options.renderInfoButton = false] - The info-icon for the tooltip, renders after the title\n * @param {int}  [options.fontSize = 12] - The font-size for the labels in px\n * @param {int}  [options.markerHeight = 30] - The height of the marker in px\n * @param {int}  [options.markerHeight = 10] - The width of the marker in px\n * @param {int}  [options.radius = 10] -The radius for the pearl in px\n * @param {array}   options.data - The data as array\n * @param {array}   options.data.values - The values to display\n * @param {array}   options.data.colors - The colors for the elements\n * @param {object}   options.data.labelLeft - (optional) Label for the left marker\n * @param {string}   options.data.labelLeft.label - (optional) Text for the left marker\n * @param {string}   options.data.labelLeft.icon - (optional) Path to icon for the left marker\n * @param {object}   options.data.labelRight - (optional) Label for the right marker\n * @param {string}   options.data.labelRight.label - (optional) Text for the right marker\n * @param {string}   options.data.labelRight.icon - (optional) Path to icon for the right marker\n */\nclass BoxPlot extends OECDChart {\n  constructor(options = {}) {\n    super();\n\n    this.defaultOptions = {\n      container: null,\n      extent: null,\n      data: [],\n      step: 50,\n      legend: null,\n      innerMarginTop: 10,\n      innerMarginBottom: 10,\n      innerMarginLeft: 5,\n      innerMarginRight: 5,\n      markerHeight: 30,\n      markerWidth: 10,\n      radius: 10,\n      fontSize: 12\n    };\n\n    this.init(options);\n  }\n\n  render(options) {\n    this.update(this.options.data);\n  }\n\n  /**\n   * @memberof BoxPlot\n   * @param {array} data - an array containing objects with the new data\n   * @example\n   * BoxPlotExample.update([\n   *   {\n   *     values: [400, 550, 580],\n   *     colors: ['#fddd5d', '#C7754E', '#900c3f'],\n   *     labelLeft: {\n   *       text: 'new label left',\n   *     },\n   *     labelRight: {\n   *       text: 'new label right',\n   *     }\n   *   },\n   *   {\n   *     values: [400, 520, 570],\n   *     colors: ['#aad356', '#61B77F', '#189aa8']\n   *   }\n   * ]);\n   */\n  update(_data) {\n    this.options.data = _data;\n    const data = BoxPlot.parseData(_data);\n    BoxPlot.validateData(data);\n    this.getChart(data);\n\n    const markerGroup = this.getMarkerGroups(data);\n    this.getMarkers(markerGroup);\n    this.getLabels(markerGroup);\n  }\n\n  getChart(data) {\n    const {\n      container,\n      extent,\n      step,\n      legend,\n      markerHeight,\n      innerMarginTop,\n      innerMarginBottom,\n      innerMarginLeft,\n      innerMarginRight\n    } = this.options;\n\n    const d3Container = d3Select(container);\n    const dimensions = d3Container.node().getBoundingClientRect();\n    const outerWidth = dimensions.width;\n    const innerWidth = outerWidth - innerMarginLeft - innerMarginRight;\n\n    this.removeSelections(['.boxplot__svg', '.boxplot__legend']);\n\n    this.x = d3ScaleLinear()\n      .range([0, innerWidth - innerMarginRight - innerMarginLeft])\n      .domain(extent);\n    const height = ((markerHeight + 20) * data.length) + innerMarginTop + innerMarginBottom;\n\n    d3Container\n      .append('div')\n      .attr('class', 'boxplot__legend')\n      .html(legend);\n\n    this.svg = d3Container\n      .classed('OECDCharts__BoxPlot', true)\n      .append('svg')\n      .classed('boxplot__svg', true)\n      .attr('width', innerWidth)\n      .attr('height', height)\n      .append('g')\n      .attr('transform', `translate(${innerMarginLeft}, 0)`);\n\n    const ticks = (extent[1] - extent[0]) / step;\n    const axis = d3AxisBottom(this.x).ticks(ticks).tickSize(-height);\n\n    this.svg.append('g')\n      .classed('boxplot__axis', true)\n      .attr('transform', `translate(${innerMarginLeft}, ${height - innerMarginTop - innerMarginBottom})`)\n      .call(axis);\n  }\n\n  getMarkerGroups(_data) {\n    const markerGroup = this.svg.selectAll('.boxplot__marker-group')\n      .data(_data, d => JSON.stringify(d));\n\n    markerGroup.exit().remove();\n\n    return markerGroup.enter()\n      .append('g')\n      .classed('boxplot__marker-group', true)\n      .attr('transform', (d, i) => `translate(0, ${((this.options.markerHeight + 20) * i) + 1})`);\n  }\n\n  getMarkers(markerGroup) {\n    markerGroup.append('line')\n      .classed('marker-group__line', true)\n      .attr('x1', d => this.x(d.values[0]) + 5)\n      .attr('x2', d => this.x(d.values[2]) + 5)\n      .attr('y1', this.options.markerHeight / 2)\n      .attr('y2', this.options.markerHeight / 2)\n      .style('stroke', d => d.colors[1]);\n\n    markerGroup.selectAll('.marker-group__rect')\n      .data(d => [0, 2].map(i => ({ value: d.values[i], color: d.colors[i] })))\n      .enter()\n      .append('rect')\n      .classed('marker-group__rect', true)\n      .attr('height', this.options.markerHeight)\n      .attr('width', this.options.markerWidth)\n      .attr('x', d => (this.x(d.value) + 5) - (this.options.markerWidth / 2))\n      .style('fill', d => d.color);\n\n    markerGroup.selectAll('.marker-group__circle')\n      .data(d => [d])\n      .enter()\n      .append('circle')\n      .classed('marker-group__circle', true)\n      .attr('r', this.options.radius)\n      .attr('cx', d => this.x(d.values[1]) + 5)\n      .attr('cy', this.options.markerHeight / 2)\n      .style('fill', d => d.colors[1]);\n  }\n\n  getLabels(markerGroup) {\n    this.getLabel(markerGroup, 'left');\n    this.getLabel(markerGroup, 'right');\n  }\n\n  getLabel(markerGroup, pos) {\n    const left = pos === 'left';\n    const label = markerGroup\n      .filter(d => (left ? d.labelLeft : d.labelRight))\n      .selectAll(`.marker-group__label--${pos}`)\n      .data(d => [d])\n      .enter()\n      .append('g')\n      .classed(`marker-group__label--${pos}`, true);\n\n    // add label text\n    label\n      .filter(d => (left ? d.labelLeft.text : d.labelRight.text))\n      .selectAll(`.marker-group__label--text-${pos}`)\n      .data((d) => {\n        const { text, icon } = (left ? d.labelLeft : d.labelRight);\n        return [{ text, icon, value: (left ? d.values[0] : d.values[2]) }];\n      })\n      .enter()\n      .append('text')\n      .classed(`marker-group__label--text-${pos}`, true)\n      .attr('y', (this.options.markerHeight / 2) + (this.options.fontSize / 4))\n      .attr('x', (d) => {\n        const offset = d.icon ? 30 : 5;\n        return left ? this.x(d.value) - (offset) : this.x(d.value) + offset + 10;\n      })\n      .text(d => d.text)\n      .attr('text-anchor', left ? 'end' : 'start')\n      .attr('font-size', this.options.fontSize);\n\n    // add label icon\n    label\n      .filter(d => (left ? d.labelLeft.icon : d.labelRight.icon))\n      .selectAll(`.marker-group__label--icon-${pos}`)\n      .data((d) => {\n        const { icon } = (left ? d.labelLeft : d.labelRight);\n        return [{ icon, value: (left ? d.values[0] : d.values[2]) }];\n      })\n      .enter()\n      .append('svg:image')\n      .classed(`marker-group__label--icon-${pos}`, true)\n      .attr('y', (this.options.markerHeight / 2) - 10)\n      .attr('x', d => (left ? this.x(d.value) - 25 : this.x(d.value) + 15))\n      .attr('xlink:href', d => d.icon)\n      .attr('width', 20)\n      .attr('height', 20);\n\n\n    BoxPlot.arrangeLabels(markerGroup, this.svg);\n  }\n\n  static arrangeLabels(container, svgContainer) {\n    const svgBB = svgContainer.node().getBoundingClientRect();\n\n    container.selectAll('.marker-group__label--left')\n      .each((node, i, nodes) => {\n        const labelNode = nodes[i];\n        const bb = labelNode.getBoundingClientRect();\n\n        if (bb.left <= svgBB.left) {\n          d3Select(labelNode)\n              .attr('transform', `translate(${bb.width + 20}, ${bb.height / 1.1})`);\n        }\n      });\n\n    container.selectAll('.marker-group__label--right')\n      .each((node, i, nodes) => {\n        const labelNode = nodes[i];\n        const bb = labelNode.getBoundingClientRect();\n\n        if (bb.right >= svgBB.right) {\n          d3Select(labelNode)\n            .attr('transform', `translate(-${bb.width + 20}, ${bb.height / 1.1})`);\n        }\n      });\n  }\n\n  static parseData(_data) {\n    return _data.map((d) => {\n      d.colors = d.colors || ['#f0f0f0', '#555', '#000'];\n      return d;\n    });\n  }\n\n  static validateData(_data) {\n    const invalidData = _data.filter(\n      d => (d.values && d.values.length !== 3)\n    );\n\n    if (invalidData.length) {\n      throw Error('invalid data: values needs three items.');\n    }\n  }\n}\n\nexport default BoxPlot;\n","import { select as d3Select, selectAll as d3SelectAll } from 'd3-selection';\nimport { arc as d3Arc } from 'd3-shape';\nimport { max as d3Max, range as d3Range, extent as d3Extent, min as d3Min } from 'd3-array';\nimport color from 'color';\nimport { scaleQuantize as d3ScaleQuantize } from 'd3-scale';\n\nimport OECDChart from './OECDChart';\n\nfunction rad2deg(rad) {\n  return rad / Math.PI * 180;\n}\n\nfunction getColorRange(base, amount, lightness) {\n  return d3Range(0, amount, 1).map(step => {\n    return color(base)\n      .mix(color('#fff'), (lightness / 100) * step / amount);\n  });\n}\n\nfunction getExtent(data, rows) {\n  const maxValues = data.map(d => d3Max(rows, row => d[row]));\n  const minValues = data.map(d => d3Min(rows, row => d[row]));\n  const min = d3Min(minValues);\n  const max = d3Max(maxValues);\n  return [min, max];\n}\n\n\n/**\n * A RadialBarChart Component.\n *\n * @example <caption>browser usage:</caption>\n    var RadialBarChartExample = new OECDCharts.RadialBarChart({\n      container: '#RadialBarChartExample',\n      title: 'Radial Bar Chart',\n      renderInfoButton: true,\n      rows: ['political', 'societal', 'economic', 'environmental', 'security'],\n      rowLabels: ['Political Label', 'Societal Label', 'Economic Label', 'Environmental Label', 'SecurityLabel'],\n      rowColors: ['#492242', '#026c6d', '#9d461d', '#4b6d27', '#eaae15'],\n      columns: 'country',\n      data: [\n        {\"country\":\"Yemen\",\"political\":0.08377711086932882,\"societal\":0.42466597374735526,\"economic\":0.8177145671512998,\"environmental\":0.30107512488904686,\"security\":0.7208149715058103},\n        {\"country\":\"Zimbabwe\",\"political\":0.19584282893442895,\"societal\":0.5565456581754631,\"economic\":0.5097090125574546,\"environmental\":0.13615832272842088,\"security\":0.5664120991477379},\n        //...\n      ]\n    });\n  * @example <caption>ES6 modules usage:</caption>\n  * import { RadialBarChart } from 'oecd-simple-charts';\n  * import 'oecd-simple-charts/build/oecd-simple-charts.css'\n  *\n  * const radialBarChart = new RadialBarChart({ chartOptions });\n  * @constructor\n  * @param {object} options - The options object for the pearl chart.\n  * @param {string} options.container - The DOM element to use as container\n  * @param {string} options.title - The title to display\n  * @param {bool}  [options.renderInfoButton = false] - The info-Icon for the tooltip, renders after the title\n  * @param {array}  options.data - The data as array. i.e.:\n  * ```\n  *    [\n  *      {\"country\":\"Yemen\",\"political\":0.08377711086932882,\"societal\":0.42466597374735526,\"economic\":0.8177145671512998,\"environmental\":0.30107512488904686,\"security\":0.7208149715058103},\n  *      {\"country\":\"Zimbabwe\",\"political\":0.19584282893442895,\"societal\":0.5565456581754631,\"economic\":0.5097090125574546,\"environmental\":0.13615832272842088,\"security\":0.5664120991477379},\n  *      //...\n  *    ]\n  * ```\n  */\nclass RadialBarChart extends OECDChart {\n  constructor(options = {}) {\n    super();\n\n    this.defaultOptions = {\n      container: null,\n      innerRadius: 50,\n      innerMargin: 100,\n      labelOffset: 10,\n      data: [],\n      rows: [],\n      rowLabels: [],\n      columns: '',\n      sortBy: false,\n      colorSteps: 5,\n      lightnessFactor: 80,\n      strokeColor: '#fff',\n      strokeWidth: 0.5,\n      hoverStrokeColor: '#111',\n      hoverStrokeWidth: 2,\n      hoverOpacity: 0.5\n    };\n\n    this.init(options);\n  }\n\n  render() {\n    const {\n      container,\n      innerRadius,\n      innerMargin,\n      data,\n      labelOffset,\n      rows,\n      rowColors,\n      rowLabels,\n      columns,\n      colorSteps,\n      lightnessFactor,\n      strokeColor,\n      strokeWidth,\n      hoverStrokeColor,\n      hoverStrokeWidth,\n      sortBy,\n    } = this.options;\n\n    const that = this;\n\n    const sortedData = sortBy ? data.sort((a, b) => b[sortBy] - a[sortBy]) : data;\n    const d3Container = d3Select(container);\n\n    const size = d3Container.node().clientWidth;\n\n    d3Container.selectAll('.oecd-chart__svg').remove();\n\n    const svg = d3Container\n      .append('svg')\n      .classed('OECDCharts__RadialBarChart', true)\n      .classed('oecd-chart__svg', true)\n      .attr('width', size)\n      .attr('height', size)\n      .append('g');\n\n    const centeredGroup = svg\n      .append('g')\n      .attr('transform', `translate(${size / 2}, ${size / 2})`);\n\n    const radius = size / 2;\n    const chartHeight = radius - innerMargin - innerRadius;\n    const arcWidth = chartHeight / rows.length;\n    const step = (Math.PI * 1.5) / sortedData.length;\n\n    const getStartAngle = (d, i) => i * step;\n    const getEndAngle = (d, i) => i * step + step;\n    const getAnimationDelay = (i) => i * (500 / sortedData.length);\n\n    const arcGenerator = d3Arc()\n      .innerRadius((d, i) => (rows.length - i - 1) * arcWidth + innerRadius)\n      .outerRadius((d, i) => (rows.length - i - 1) * arcWidth + innerRadius + arcWidth)\n      .startAngle((d, i) => d.startAngle)\n      .endAngle((d, i) => d.endAngle);\n\n    // const extent = getExtent(data, rows);\n\n    const colorData = rows.map((row, i) => {\n      const colors = getColorRange(rowColors[i], colorSteps, lightnessFactor);\n      const extent = d3Extent(data, d => +d[row]);\n      return d3ScaleQuantize().domain(extent).range(colors.slice(0).reverse());\n    });\n\n    const arcGroups = centeredGroup\n      .selectAll('.arc-group')\n      .data(sortedData)\n      .enter()\n      .append('g')\n      .classed('arc-group', true)\n      .on('mouseenter', this.handleGroupMouseEnter(this))\n      .on('mouseleave', this.handleGroupMouseLeave.bind(this));\n\n    arcGroups\n      .append('g')\n      .classed('arc-container', true)\n      .selectAll('.arc')\n      .data((d, i) => rows.map((row, rowIndex) => {\n        const value = +d[row];\n\n        return {\n          value,\n          startAngle: getStartAngle(d, i),\n          endAngle: getEndAngle(d, i),\n          color: colorData[rowIndex](value),\n          index: i,\n          parentData: d\n        }\n      }))\n      .enter()\n      .append('path')\n      .attr('d', arcGenerator)\n      .attr('fill', d => d.color)\n      .attr('stroke', strokeColor)\n      .attr('stroke-width', strokeWidth)\n      .on('mouseenter', function(d) {\n        this.parentNode.appendChild(this);\n        d3Select(this)\n          .attr('stroke-width', hoverStrokeWidth)\n          .attr('stroke', hoverStrokeColor);\n\n        that.event.emit('mouseenter', d);\n      })\n      .on('mouseleave', function(d) {\n        d3Select(this)\n          .attr('stroke-width', 1)\n          .attr('stroke', strokeColor);\n\n        that.event.emit('mouseleave', d);\n      })\n      .on('click', function(d) {\n        this.parentNode.appendChild(this);\n        d3Select(this)\n          .attr('stroke-width', hoverStrokeWidth)\n          .attr('stroke', hoverStrokeColor);\n\n        that.event.emit('click', d);\n      });\n\n    arcGroups\n      .append('g')\n      .classed('label-container', true)\n      .attr('transform', (d, i) => `rotate(${rad2deg(i * step + (step / 2)) - 90})`)\n      .append('text')\n      .classed('column-label', true)\n      .attr('x', radius - innerMargin + labelOffset)\n      .attr('y', 0)\n      .attr('dominant-baseline', 'middle')\n      .text((d, i) => d[columns])\n      // .filter((d, i) => i > data.length / 3 * 2)\n      // .attr('transform', 'scale(-1,-1)')\n      // .attr('transform-origin', radius - innerMargin + labelOffset + ' 0')\n      // .attr('text-anchor', 'end')\n\n    arcGroups\n      .attr('opacity', 0)\n      .transition()\n      .duration(0)\n      .delay((d, i) => getAnimationDelay(i))\n      .attr('opacity', 1);\n\n    const legendGroup = svg.append('g')\n      .classed('legend-group', true)\n      .attr('transform', `translate(0, ${innerMargin})`);\n\n    const legendRows = legendGroup.selectAll('.legend-row')\n      .data(rowLabels)\n      .enter()\n      .append('g')\n      .attr('transform', (d, i) => `translate(0, ${arcWidth * i})`)\n      .classed('legend-row', true)\n\n    const svgRowLabels = legendRows.append('text')\n      .text(d => d)\n      .classed('row-label', true);\n\n    const longestLabel = d3Max(svgRowLabels.nodes(), label => label.getBoundingClientRect().width);\n    const remainingSpace = radius - longestLabel - 30;\n\n    svgRowLabels\n      .attr('x', ~~longestLabel + 10)\n      .attr('y', arcWidth / 2)\n      .attr('text-anchor', 'end')\n      .attr('alignment-baseline', 'middle');\n\n    const legendColorGroups = legendRows\n      .append('g')\n      .classed('legend-color-blocks', true)\n      .attr('transform', `translate(${~~longestLabel + 20}, 0)`)\n      .on('click', (d, i) => {\n        this.options.sortBy = rows[i];\n        this.event.emit('sort', this.options.sortBy);\n        this.render();\n      });\n\n    const colorBlockWidth = remainingSpace / colorSteps;\n\n    const blockHeight = Math.min(arcWidth, 30);\n    const blockOffset = Math.max(0, (arcWidth - blockHeight) / 2);\n\n    const legendColorBlocks = legendColorGroups\n      .selectAll('.color-block')\n      .data((d, i) => colorData[i].range().slice(0).reverse())\n      .enter()\n      .append('rect')\n      .classed('color-block', true)\n      .attr('x', (d, i) => i * colorBlockWidth)\n      .attr('y', blockOffset)\n      .attr('width', colorBlockWidth)\n      .attr('height', blockHeight)\n      .attr('fill', (d, i) => d)\n\n    legendColorGroups\n      .filter((d,i) => i === 0)\n      .append('text')\n      .classed('legend-label', true)\n      .text('Fragility')\n\n    const lastGroup = legendColorGroups\n      .filter((d, i) => i === legendColorGroups.size() - 1)\n\n    lastGroup\n      .append('text')\n      .classed('legend-label', true)\n      .attr('y', blockHeight * 2)\n      .text('Severe')\n\n    lastGroup\n      .append('text')\n      .classed('legend-label', true)\n      .attr('text-anchor', 'right')\n      .attr('y', blockHeight * 2)\n      .attr('x', colorBlockWidth * (colorData.length - 1))\n      .text('Minor')\n\n    this.arcGroups = arcGroups;\n  }\n\n  update(options = {}) {\n    this.options = Object.assign({}, this.options, options);\n    this.render();\n  }\n\n  handleGroupMouseEnter(that) {\n    return function(d, i) {\n      this.parentNode.appendChild(this);\n      that.arcGroups.style('opacity', that.options.hoverOpacity).filter((d, j) => i === j).style('opacity', 1);\n      that.event.emit('mouseenter.group', d);\n    }\n  }\n\n  handleGroupMouseLeave(d, i) {\n    this.arcGroups.style('opacity', 1);\n    this.event.emit('mouseleave.group', d);\n  }\n}\n\nexport default RadialBarChart;\n","/* eslint-disable */\nimport './styles/main.styl';\n\nexport { default as PearlChart } from './modules/PearlChart';\nexport { default as StackedChart } from './modules/StackedChart';\nexport { default as BoxPlot } from './modules/BoxPlot';\nexport { default as RadialBarChart } from './modules/RadialBarChart';"],"names":["Symbol","objectProto","nativeObjectToString","symToStringTag","OECDChart","baseDefaultOptions","event","eventstop","on","once","off","handleResize","_debounce","onResize","bind","addEventListener","options","babelHelpers.extends","defaultOptions","d3Container","d3Select","container","classed","title","renderInfoButton","titleContainer","append","attr","text","html","emit","render","containerWidth","node","clientWidth","window","innerWidth","selectors","forEach","selectAll","sel","remove","titleEl","document","querySelector","classList","toggle","PearlChart","Math","round","val","init","data","height","extent","marginLeft","marginRight","labelOffset","outerWidth","innerHeight","removeSelections","scale","d3ScaleLinear","domain","range","svg","chartWrapper","getAxis","nodesWrapper","update","_data","parseData","transitionFunc","d3Transition","duration","radius","getCircles","axis","axisLabel","exit","enter","d","fontSize","i","xAxis","d3AxisBottom","tickFormat","d3Format","tickSize","tickValues","ticks","style","showTicks","call","select","transition","circles","value","color","circle","callback","nodes","showLabels","labelFormat","colorLabels","map","StackedChart","marginTop","barHeight","dimensions","getBoundingClientRect","width","length","x","colorScale","validateData","chart","getChart","getBars","getStackedLabels","getBarLabels","JSON","stringify","values","offset","colors","stackLabels","stackLabel","barLabels","parentNode","factor","reduce","a","b","d3Sum","slice","invalidData","filter","Error","BoxPlot","markerGroup","getMarkerGroups","getMarkers","getLabels","step","legend","markerHeight","innerMarginTop","innerMarginBottom","innerMarginLeft","innerMarginRight","markerWidth","getLabel","pos","left","label","labelLeft","labelRight","icon","arrangeLabels","svgContainer","svgBB","each","labelNode","bb","right","rad2deg","rad","PI","getColorRange","base","amount","lightness","d3Range","mix","RadialBarChart","innerRadius","innerMargin","rows","rowColors","rowLabels","columns","colorSteps","lightnessFactor","strokeColor","strokeWidth","hoverStrokeColor","hoverStrokeWidth","sortBy","that","sortedData","sort","size","centeredGroup","chartHeight","arcWidth","getStartAngle","getEndAngle","getAnimationDelay","arcGenerator","d3Arc","outerRadius","startAngle","endAngle","colorData","row","d3Extent","d3ScaleQuantize","reverse","arcGroups","handleGroupMouseEnter","handleGroupMouseLeave","rowIndex","appendChild","delay","legendGroup","legendRows","svgRowLabels","longestLabel","d3Max","remainingSpace","legendColorGroups","colorBlockWidth","blockHeight","min","blockOffset","max","legendColorBlocks","lastGroup","hoverOpacity","j"],"mappings":"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"}